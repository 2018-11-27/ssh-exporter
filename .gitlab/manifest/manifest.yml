releaseManifest:
  image: $BASE_MANIFEST_IMAGE #harbor.lenovo.com/base/manifest:latest
  stage: manifest
  rules: !reference [.defaultRules, branches]
  script:
    # You should add or modify your manifest commands in this scope
    # Start
    # - fixme
    - echo "project name $CI_PROJECT_NAME branch $CI_COMMIT_REF_SLUG Manifest stage sucessfully"
    # End
  tags:
    - mec-runner

masterManifest:
  image: $BASE_MANIFEST_IMAGE #harbor.lenovo.com/base/manifest:latest
  stage: manifest
  variables:
    manifestVersion: $release
  script:
    # You should add or modify your manifest commands in this scope
    # Start
    # - fixme
    - echo "project name $CI_PROJECT_NAME branch $CI_COMMIT_REF_SLUG Manifest stage sucessfully"
    # End
  tags:
    - mec-runner
  only:
    - master

mRManifest:
  image: $BASE_MANIFEST_IMAGE #harbor.lenovo.com/base/manifest:latest
  stage: manifest
  variables:
    manifestVersion: $CI_COMMIT_SHORT_SHA
  script:
    # You should add or modify your manifest commands in this scope
    # Start
    - echo "project name $CI_PROJECT_NAME branch $CI_COMMIT_REF_SLUG Manifest stage sucessfully"
    # End
  tags:
    - mec-runner
  only:
    - merge_requests

stagingManifest:
  image: $BASE_MANIFEST_IMAGE #harbor.lenovo.com/base/manifest:latest
  stage: manifest
  variables:
    manifestVersion: $CI_COMMIT_SHORT_SHA
  script:
    # You should add or modify your manifest commands in this scope
    # Start
    - echo "project name $CI_PROJECT_NAME branch $CI_COMMIT_REF_SLUG Manifest stage sucessfully"
    # End
  tags:
    - mec-runner
  only:
    - /^staging-.*$/

lecpIdManifest:
  image: $BASE_MANIFEST_IMAGE #harbor.lenovo.com/base/manifest:latest
  stage: manifest
  variables:
    release: lecp-id-$CI_COMMIT_SHORT_SHA
  script:
    # You should add or modify your manifest commands in this scope
    # Start
    - echo "project name $CI_PROJECT_NAME branch $CI_COMMIT_REF_SLUG Manifest stage sucessfully"
    # End
  tags:
    - mec-runner
  only:
    - lecp-id

othersManifest:
  image: $BASE_MANIFEST_IMAGE  #harbor.lenovo.com/base/manifest:latest
  stage: manifest
  variables:
    manifestVersion: $CI_COMMIT_SHORT_SHA
  script:
    # You should add or modify your manifest commands in this scope
    # Start
    - echo "project name $CI_PROJECT_NAME branch $CI_COMMIT_REF_SLUG Manifest stage sucessfully"
    # End
  tags:
    - mec-runner
  except:
    - master
    - /^staging-.*$/
    - lecp-id
    - /^release-.*$/
    - merge_requests