releasePre:
  image: $BASE_PRE_IMAGE #harbor.lenovo.com/base/pre:latest
  stage: pre
  rules: !reference [.defaultRules, branches]
  script:
  # You should add or modify your pre commands in this scope
  # Start
  # - fixme
    - echo "project name $CI_PROJECT_NAME branch $CI_COMMIT_REF_SLUG Pre stage sucessfully"
  # End
  tags:
    - mec-runner

masterPre:
  image: $BASE_PRE_IMAGE #harbor.lenovo.com/base/pre:latest
  stage: pre
  script:
  # You should add or modify your pre commands in this scope
  # Start
  # - fixme
    - echo "project name $CI_PROJECT_NAME branch $CI_COMMIT_REF_SLUG Pre stage sucessfully"
  # End
  tags:
    - mec-runner
  only:
    - master

mRPre:
  image: $BASE_PRE_IMAGE #harbor.lenovo.com/base/pre:latest
  stage: pre
  script:
  # You should add or modify your pre commands in this scope
  # Start
  # - fixme
    - echo "project name $CI_PROJECT_NAME branch $CI_COMMIT_REF_SLUG Pre stage sucessfully"
  # End
  tags:
    - mec-runner
  only:
    - merge_requests

stagingPre:
  image: $BASE_PRE_IMAGE #harbor.lenovo.com/base/pre:latest
  stage: pre
  script:
  # You should add or modify your pre commands in this scope
  # Start
  # - fixme
    - echo "project name $CI_PROJECT_NAME branch $CI_COMMIT_REF_SLUG Pre stage sucessfully"
  # End
  tags:
    - mec-runner
  only:
    - /^staging-.*$/

othersPre:
  image: $BASE_PRE_IMAGE  #harbor.lenovo.com/base/pre:latest
  stage: pre
  script:
  # You should add or modify your pre commands in this scope
  # Start
  # - fixme
    - echo "$CI_PROJECT_NAMESPACE"
    - echo "artifactReferenced:$artifactReferenced"
    - echo "CI_PROJECT_PATH_SLUG:$CI_PROJECT_PATH_SLUG"
    - echo "project name $CI_PROJECT_NAME branch $CI_COMMIT_REF_SLUG Pre stage sucessfully"
  # End
  tags:
    - mec-runner
#  only:
#    variables:
#      - $DOCKER_HARBOR_USER1 == 'admin'
  except:
    - master
    - /^staging-.*$/
    - lecp-id
    - /^release-.*$/
    - merge_requests

tagPre:
  image: $BASE_PRE_IMAGE  #harbor.lenovo.com/base/pre:latest
  stage: pre
  script:
    # You should add or modify your pre commands in this scope
    # Start
    # - fixme
    - echo "$CI_PROJECT_NAMESPACE"
    - echo "CI_COMMIT_TAG:$CI_COMMIT_TAG"
    - echo "project name $CI_PROJECT_NAME branch $CI_COMMIT_REF_SLUG Pre stage sucessfully"
  # End
  tags:
    - mec-runner
  only:
    - tags