releasePost:
  image: $BASE_POST_IMAGE #harbor.lenovo.com/base/post:latest
  stage: post
  rules: !reference [.defaultRules, branches]
  variables: # Publish Version
    publishRef: $CI_COMMIT_REF_SLUG
  script:
  # You should add or modify your post commands in this scope
  # Start
  # - fixme
    - echo "project name $CI_PROJECT_NAME branch $CI_COMMIT_REF_SLUG Post stage sucessfully"
  # End
  tags:
    - mec-runner
#  only:
#    - /^release-.*$/

masterPost:
  image: $BASE_POST_IMAGE #harbor.lenovo.com/base/post:latest
  stage: post
  variables: # Override publishVersion to latest defined
    publishVersion: "latest"
    publishRef: master
  script:
  # You should add or modify your post commands in this scope
  # Start
  # - fixme
    - echo "project name $CI_PROJECT_NAME branch $CI_COMMIT_REF_SLUG Post stage sucessfully"
  # End
  tags:
    - mec-runner
  only:
    - master

mRPost:
  image: $BASE_POST_IMAGE #harbor.lenovo.com/base/post:latest
  stage: post
  variables: # Override publishVersion to latest defined
    publishVersion: $CI_COMMIT_SHORT_SHA
    publishRef: merge_requests
  script:
  # You should add or modify your post commands in this scope
  # Start
  # - fixme
    - echo "project name $CI_PROJECT_NAME branch $CI_COMMIT_REF_SLUG Post stage sucessfully"
  # End
  tags:
    - mec-runner
  only:
    - merge_requests

stagingPost:
  image: $BASE_POST_IMAGE #harbor.lenovo.com/base/post:latest
  stage: post
  variables: # Override publishVersion to latest defined
    publishVersion: $CI_COMMIT_SHORT_SHA
    publishRef: merge_requests
  script:
  # You should add or modify your post commands in this scope
  # Start
  # - fixme
    - echo "project name $CI_PROJECT_NAME branch $CI_COMMIT_REF_SLUG Post stage sucessfully"
  # End
  tags:
    - mec-runner
  only:
    - /^staging-.*$/

othersPost:
  image: $BASE_POST_IMAGE  #harbor.lenovo.com/base/post:latest
  stage: post
  variables: # Override publishVersion to latest defined
    publishVersion: $CI_COMMIT_SHORT_SHA
    publishRef: merge_requests
  script:
  # You should add or modify your post commands in this scope
  # Start
  # - fixme
    - echo "project name $CI_PROJECT_NAME branch $CI_COMMIT_REF_SLUG Post stage sucessfully"
  # End
  tags:
    - mec-runner
  except:
    - master
    - /^staging-.*$/
    - lecp-id
    - /^release-.*$/
    - merge_requests